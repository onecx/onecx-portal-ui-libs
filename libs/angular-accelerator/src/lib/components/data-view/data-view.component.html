@if (layout() !== 'table') {
<div>
  <ocx-data-list-grid
    #ocxdatalistgrid
    [name]="name()"
    [data]="data()"
    [columns]="columns()"
    [filters]="filters()"
    [sortDirection]="sortDirection()"
    [sortField]="sortField()"
    [sortStates]="sortStates()"
    [clientSideFiltering]="clientSideFiltering()"
    [clientSideSorting]="clientSideSorting()"
    [titleLineId]="titleLineId()"
    [subtitleLineIds]="subtitleLineIds()"
    [clientSideSorting]="true"
    [pageSizes]="pageSizes()"
    [pageSize]="pageSize()"
    [paginator]="listGridPaginator()"
    [page]="page()"
    (pageChanged)="onPageChange($event)"
    (pageSizeChanged)="onPageSizeChange($event)"
    (componentStateChanged)="dataListGridComponentState$.next($event)"
    [emptyResultsMessage]="emptyResultsMessage()"
    [layout]="layout()"
    [deletePermission]="deletePermission()"
    [editPermission]="editPermission()"
    [viewPermission]="viewPermission()"
    [deleteActionEnabledField]="deleteActionEnabledField()"
    [deleteActionVisibleField]="deleteActionVisibleField()"
    [editActionEnabledField]="editActionEnabledField()"
    [editActionVisibleField]="editActionVisibleField()"
    [viewActionEnabledField]="viewActionEnabledField()"
    [viewActionVisibleField]="viewActionVisibleField()"
    [additionalActions]="additionalActions()"
    [gridItemSubtitleLinesTemplate]="gridItemSubtitleLines"
    [listItemSubtitleLinesTemplate]="listItemSubtitleLines"
    [listItemTemplate]="listItem"
    [gridItemTemplate]="gridItem"
    [listValueTemplate]="listValue"
    [translationKeyListValueTemplate]="translationKeyListValue"
    [numberListValueTemplate]="numberListValue"
    [relativeDateListValueTemplate]="relativeDateListValue"
    [stringListValueTemplate]="stringListValue"
    [dateListValueTemplate]="dateListValue"
    [totalRecordsOnServer]="totalRecordsOnServer()"
    [parentTemplates]="templatesForChildren()"
  >
  </ocx-data-list-grid>
  <ng-template #listItemSubtitleLinesTemplate let-item>
    @if (listItemSubtitleLines) {
    <ng-container [ngTemplateOutlet]="listItemSubtitleLines" [ngTemplateOutletContext]="{$implicit:item}">
    </ng-container>
    }</ng-template
  >
  <ng-template #gridItemSubtitleLinesTemplate let-item>
    @if (gridItemSubtitleLines) {
    <ng-container [ngTemplateOutlet]="gridItemSubtitleLines" [ngTemplateOutletContext]="{$implicit:item}">
    </ng-container>
    }</ng-template
  >
  <ng-template #gridItemTemplate let-item>
    @if (gridItem) {
    <ng-container [ngTemplateOutlet]="gridItem" [ngTemplateOutletContext]="{$implicit:item}"> </ng-container>
    }</ng-template
  >
  <ng-template #listItemTemplate let-item>
    @if (listItem) {
    <ng-container [ngTemplateOutlet]="listItem" [ngTemplateOutletContext]="{$implicit:item}"> </ng-container>
    }</ng-template
  >
  <ng-template #listValueTemplate let-rowObject="rowObject" let-column="column">
    @if (listValue) {
    <ng-container [ngTemplateOutlet]="listValue" [ngTemplateOutletContext]="{rowObject: rowObject, column:column}">
    </ng-container>
    }</ng-template
  >
  <ng-template #translationKeyListValueTemplate let-rowObject="rowObject" let-column="column">
    @if (translationKeyListValue) {
    <ng-container
      [ngTemplateOutlet]="translationKeyListValue"
      [ngTemplateOutletContext]="{rowObject: rowObject, column:column}"
    >
    </ng-container>
    }</ng-template
  >
  <ng-template #numberListValueTemplate let-rowObject="rowObject" let-column="column">
    @if (numberListValue) {
    <ng-container
      [ngTemplateOutlet]="numberListValue"
      [ngTemplateOutletContext]="{rowObject: rowObject, column:column}"
    >
    </ng-container>
    }</ng-template
  >
  <ng-template #relativeDateListValueTemplate let-rowObject="rowObject" let-column="column">
    @if (relativeDateListValue) {
    <ng-container
      [ngTemplateOutlet]="relativeDateListValue"
      [ngTemplateOutletContext]="{rowObject: rowObject, column:column}"
    >
    </ng-container>
    }</ng-template
  >
  <ng-template #stringListValueTemplate let-rowObject="rowObject" let-column="column">
    @if (stringListValue) {
    <ng-container
      [ngTemplateOutlet]="stringListValue"
      [ngTemplateOutletContext]="{rowObject: rowObject, column:column}"
    >
    </ng-container>
    }</ng-template
  >
  <ng-template #dateListValueTemplate let-rowObject="rowObject" let-column="column">
    @if (dateListValue) {
    <ng-container [ngTemplateOutlet]="dateListValue" [ngTemplateOutletContext]="{rowObject: rowObject, column:column}">
    </ng-container>
    }</ng-template
  >
</div>
} @if (layout() === 'table') {
<div>
  <ocx-data-table
    #ocxdatatable
    [rows]="data()"
    [columns]="columns()"
    [filters]="filters()"
    [sortDirection]="sortDirection()"
    [sortColumn]="sortField()"
    [sortStates]="sortStates()"
    [clientSideFiltering]="clientSideFiltering()"
    [clientSideSorting]="clientSideSorting()"
    [pageSizes]="pageSizes()"
    [pageSize]="pageSize()"
    [paginator]="tablePaginator()"
    [page]="page()"
    (pageChanged)="onPageChange($event)"
    (pageSizeChanged)="onPageSizeChange($event)"
    (componentStateChanged)="dataTableComponentState$.next($event)"
    [selectedRows]="selectedRows()"
    [frozenActionColumn]="frozenActionColumn()"
    [actionColumnPosition]="actionColumnPosition()"
    [emptyResultsMessage]="emptyResultsMessage()"
    [name]="name()"
    [deletePermission]="deletePermission()"
    [editPermission]="editPermission()"
    [viewPermission]="viewPermission()"
    [deleteActionEnabledField]="deleteActionEnabledField()"
    [deleteActionVisibleField]="deleteActionVisibleField()"
    [editActionEnabledField]="editActionEnabledField()"
    [editActionVisibleField]="editActionVisibleField()"
    [viewActionEnabledField]="viewActionEnabledField()"
    [viewActionVisibleField]="viewActionVisibleField()"
    [additionalActions]="additionalActions()"
    [stringCellTemplate]="stringTableCell"
    [numberCellTemplate]="numberTableCell"
    [dateCellTemplate]="dateTableCell"
    [relativeDateCellTemplate]="relativeDateTableCell"
    [cellTemplate]="tableCell"
    [translationKeyCellTemplate]="translationKeyTableCell"
    [filterCellTemplate]="tableFilterCell"
    [dateFilterCellTemplate]="dateTableFilterCell"
    [numberFilterCellTemplate]="numberTableFilterCell"
    [stringFilterCellTemplate]="stringTableFilterCell"
    [relativeDateFilterCellTemplate]="relativeDateTableFilterCell"
    [translationKeyFilterCellTemplate]="translationKeyTableFilterCell"
    (sorted)="sorting($event)"
    (filtered)="filtering($event)"
    [totalRecordsOnServer]="totalRecordsOnServer()"
    [currentPageShowingKey]="currentPageShowingKey()"
    [currentPageShowingWithTotalOnServerKey]="currentPageShowingWithTotalOnServerKey()"
    [parentTemplates]="templatesForChildren()"
    [allowSelectAll]="tableAllowSelectAll()"
    [selectionEnabledField]="tableSelectionEnabledField()"
  >
  </ocx-data-table>
  <ng-template #stringCellTemplate let-rowObject="rowObject" let-column="column">
    @if (stringTableCell) {
    <ng-container
      [ngTemplateOutlet]="stringTableCell"
      [ngTemplateOutletContext]="{rowObject: rowObject, column:column}"
    >
    </ng-container>
    }</ng-template
  >
  <ng-template #numberCellTemplate let-rowObject="rowObject" let-column="column">
    @if (numberTableCell) {
    <ng-container
      [ngTemplateOutlet]="numberTableCell"
      [ngTemplateOutletContext]="{rowObject: rowObject, column:column}"
    >
    </ng-container>
    }</ng-template
  >
  <ng-template #dateCellTemplate let-rowObject="rowObject" let-column="column">
    @if (dateTableCell) {
    <ng-container [ngTemplateOutlet]="dateTableCell" [ngTemplateOutletContext]="{rowObject:rowObject, column:column}">
    </ng-container>
    }</ng-template
  >
  <ng-template #relativeDateCellTemplate let-rowObject="rowObject" let-column="column">
    @if (relativeDateTableCell) {
    <ng-container
      [ngTemplateOutlet]="relativeDateTableCell"
      [ngTemplateOutletContext]="{rowObject:rowObject, column:column}"
    >
    </ng-container>
    }</ng-template
  >
  <ng-template #cellTemplate let-rowObject="rowObject" let-column="column">
    @if (tableCell) {
    <ng-container [ngTemplateOutlet]="tableCell" [ngTemplateOutletContext]="{rowObject: rowObject, column:column}">
    </ng-container>
    }</ng-template
  >
  <ng-template #translationKeyCellTemplate let-rowObject="rowObject" let-column="column">
    @if (translationKeyTableCell) {
    <ng-container
      [ngTemplateOutlet]="translationKeyTableCell"
      [ngTemplateOutletContext]="{rowObject:rowObject, column:column}"
    >
    </ng-container>
    }</ng-template
  >
  <ng-template #stringFilterCellTemplate let-rowObject="rowObject" let-column="column">
    @if (stringTableFilterCell) {
    <ng-container
      [ngTemplateOutlet]="stringTableFilterCell"
      [ngTemplateOutletContext]="{rowObject:rowObject, column:column}"
    >
    </ng-container>
    }</ng-template
  >
  <ng-template #filterCellTemplate let-rowObject="rowObject" let-column="column">
    @if (tableFilterCell) {
    <ng-container [ngTemplateOutlet]="tableFilterCell" [ngTemplateOutletContext]="{rowObject:rowObject, column:column}">
    </ng-container>
    }
  </ng-template>
  <ng-template #dateFilterCellTemplate let-rowObject="rowObject" let-column="column">
    @if (dateTableFilterCell) {
    <ng-container
      [ngTemplateOutlet]="dateTableFilterCell"
      [ngTemplateOutletContext]="{rowObject:rowObject, column:column}"
    >
    </ng-container>
    }
  </ng-template>
  <ng-template #numberFilterCellTemplate let-rowObject="rowObject" let-column="column">
    @if (numberTableFilterCell) {
    <ng-container
      [ngTemplateOutlet]="numberTableFilterCell"
      [ngTemplateOutletContext]="{rowObject:rowObject, column:column}"
    >
    </ng-container>
    }
  </ng-template>
  <ng-template #relativeDateFilterCellTemplate let-rowObject="rowObject" let-column="column">
    @if (relativeDateTableFilterCell) {
    <ng-container
      [ngTemplateOutlet]="relativeDateTableFilterCell"
      [ngTemplateOutletContext]="{rowObject:rowObject, column:column}"
    >
    </ng-container>
    }
  </ng-template>
  <ng-template #translationKeyFilterCellTemplate let-rowObject="rowObject" let-column="column">
    @if (translationKeyTableFilterCell) {
    <ng-container
      [ngTemplateOutlet]="translationKeyTableFilterCell"
      [ngTemplateOutletContext]="{rowObject:rowObject, column:column}"
    >
    </ng-container>
    }
  </ng-template>
</div>
}
